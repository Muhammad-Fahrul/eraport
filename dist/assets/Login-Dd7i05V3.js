import{r as a,u as R,a as S,b as q,c as y,j as e,L as E,s as b}from"./index-C4EYCwQF.js";const U=()=>{var l,d;const m=a.useRef(),c=a.useRef(),[n,f]=a.useState(""),[o,g]=a.useState(""),[u,t]=a.useState(""),x=R(),h=S(),j=q(),v=((d=(l=x.state)==null?void 0:l.from)==null?void 0:d.pathname)||"/",[w,{isLoading:L}]=y();a.useEffect(()=>{t("")},[n,o]);const N=async r=>{var p;r.preventDefault();try{const s=await w({username:n,password:o}).unwrap();h(b(s)),j(v,{replace:!0})}catch(s){console.log(s),s.status?s.status===400?t(s.data.message):s.status===401?t("Unauthorized"):t((p=s.data)==null?void 0:p.message):t("No Server Response"),c.current.focus()}},C=u?"errmsg":"offscreen";let i;return L&&(i=e.jsx(E,{})),i=e.jsx("div",{className:"container-login",children:e.jsxs("form",{onSubmit:N,className:"wrapper",children:[e.jsxs("div",{className:"title",children:[e.jsx("h2",{children:"Login"}),e.jsx("p",{ref:c,className:C,"aria-live":"assertive",children:u})]}),e.jsxs("div",{className:"inputBox",children:[e.jsx("input",{name:"username",type:"text",required:"required",ref:m,value:n,onChange:r=>f(r.target.value),autoComplete:"usernname"}),e.jsx("span",{children:"Username"})]}),e.jsxs("div",{className:"inputBox",children:[e.jsx("input",{name:"password",type:"password",required:"required",value:o,onChange:r=>g(r.target.value),autoComplete:"current-password"}),e.jsx("span",{children:"Password"})]}),e.jsx("button",{className:"enter",children:"Login"})]})}),i};export{U as default};
