import{P as u,r as i,j as s}from"./index-C4EYCwQF.js";import{a as m}from"./reportApiSlice-8CCs6EDL.js";const o=({raportData:t})=>{const[r,c]=i.useState(t.columnAnalytics[0].columnValue),l=e=>{c(Number(e.target.value))},n=t.columnAnalytics.find(e=>e.columnValue===r);return s.jsxs("div",{className:"report-group",children:[s.jsxs("h3",{children:[t.raportName," - ",t.columnName]}),s.jsx("select",{onChange:l,value:r,children:t.columnAnalytics.map(e=>s.jsx("option",{value:e.columnValue,children:e.columnValue},e.columnValue))}),s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),Object.keys(n.students[0].columnStatic).map(e=>s.jsx("th",{children:e},e))]})}),s.jsx("tbody",{children:n.students.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.studentName}),Object.values(e.columnStatic).map((a,d)=>s.jsx("td",{children:a},d))]},e.studentId))})]})]})};o.propTypes={raportData:u.object.isRequired};const j=()=>{const{data:t,error:r,isLoading:c}=m();if(c)return s.jsx("div",{children:"Loading..."});if(r)return s.jsx("div",{children:r.data.message});const l=t.data.reduce((n,e)=>{const a=`${e.raportId}-${e.columnName}`;return n[a]||(n[a]={raportId:e.raportId,raportName:e.raportName,columnName:e.columnName,columnAnalytics:[]}),n[a].columnAnalytics.push(...e.columnAnalytics),n},{});return Object.entries(l).length?s.jsx("div",{className:"student-reports",children:Object.entries(l).map(([n,e])=>s.jsx(o,{raportData:e},n))}):s.jsx("h3",{children:" tidak ada data analisis"})};export{j as default};
