import{P as N,r as h,b as L,u as v,j as e,L as y}from"./index-C4EYCwQF.js";import{d as f}from"./userApiSlice-DAim06lb.js";import{E}from"./Error-f4fWrvck.js";const p=({userId:r})=>{const n=L(),{user:a}=f("userList",{selectFromResult:({data:t})=>({user:t==null?void 0:t.entities[r]})}),i=v(),o=()=>{n(`/users/${a.username}`,{state:{from:i}})};let c=e.jsx("li",{className:"container-user",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"description",onClick:o,children:a.username})})});return e.jsx(e.Fragment,{children:c})};p.propTypes={userId:N.string.isRequired};const S=h.memo(p),F=()=>{var m;const[r,n]=h.useState(""),{data:a,isSuccess:i,isLoading:o,isError:c,error:t}=f("userList",{pollingInterval:5e3,refetchOnFocus:!0,refetchOnMountOrArgChange:!0});let u;if(o)return e.jsx(y,{});if(i){const{ids:l,entities:x}=a;let g=l,d=Object.values(x).map(s=>{if(r.length){if(s.username.toLocaleLowerCase().includes(r.toLocaleLowerCase()))return s.id}else return s.id}).filter(s=>s!==void 0).map(s=>g.filter(j=>j===s)[0]);u=d.length?d.map(s=>e.jsx(S,{userId:s},s)):e.jsx("h4",{children:"No User"})}else if(c)return e.jsx(E,{message:(m=t.data)==null?void 0:m.message});return e.jsxs("div",{className:"container-users",children:[e.jsxs("form",{className:"form-search",children:[e.jsx("span",{className:"search-icon-container",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass"})}),e.jsx("input",{type:"search",placeholder:"Search by Name",onChange:l=>n(l.target.value),value:r})]}),e.jsx("ul",{className:"users",children:u})]})};export{F as default};
